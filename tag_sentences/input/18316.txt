乾符三年，段文楚為代北水陸發運、雲州防禦使。是時無年，文楚晙損用度，下皆怨。邊校程懷信、王行審、蓋寓、李存璋、薛鐵山、康君立等曹議曰：「世多難，丈夫當投罅立功。段公乃儒者，難共計。沙陀雄勁，李振武父子勇冠軍，我若推之，無不應，則代北唾手可定。拾取富貴若何？」咸曰：「善！」乃夜謁國昌子雲中守捉使克用曰：「歲艱稟食削，吾等不忍餓死，公家威德著聞，請誅虐帥，安部內。」克用許之，募得士萬人，趨雲州，次鬥雞臺。城中執文楚至，殺之；據州以聞，共丐克用為大同防禦留後。不許，發諸道兵進捕，諸道不甚力，而黃巢方引度江，朝廷度未能制，乃赦之，以國昌為大同軍防禦使。國昌不受命，詔河東節度使崔彥昭、幽州張公素共擊之，無功。

國昌與黨項戰，未決，大同川吐渾赫連鐸襲振武，盡取其貲械。國昌窮，挈騎五百還雲州，州不納，鐸遂取之。克用轉側蔚、朔間，裒兵才三千，屯新城，鐸引萬人圍之，隧而攻，三日不拔，鐸兵殺傷甚。國昌自蔚州來，鐸引去。僖宗以鐸領大同節度，畀討國昌。六年，詔昭義李鈞為北面招討使，督潞、太原兵屯代州；幽州李可舉會鐸攻蔚州，國昌以一隊當之。克用分兵抵遮虜城拒鈞，天大雪，士戺僕，鈞眾潰，還代州，軍遂亂，鈞死於兵。廣明元年，以李琢為蔚、朔招討都統，率兵數萬屯代州。克用使傅文達調蔚、朔兵，朔州刺史高文集縛以送琢。琢進攻蔚州，國昌敗，與克用舉宗奔達靼。鐸密畀酋長圖之，克用得其計，因豪桀大會馳射，百步外針芒木葉無不中，部人大驚，即倡言：「今黃巢北寇，為中原患，一日天子赦我，願與公等南向定天下，庸能終老沙磧哉！」達靼知不留，乃止。

巢攻潼關，入京師，詔河東監軍陳景思發代北軍。時沙陀都督李友金屯興唐軍，薩葛首領米海萬、安慶都督史敬存屯感義軍，克用客塞下，眾數千無所屬。景思聞天子西，乃與友金料騎五千入居絳，兵擅劫帑自私。還代州，益募士三萬，屯崞西，士囂縱，友金不能制，謀曰：「今合大眾，不得威名宿將，且無功。吾兄司徒父子，材而雄，眾所推畏，比得罪於朝，僑戍北部不敢還。今若召之使將兵，代北豪英，一呼可集，整行伍，鼓而南，賊不足平也。」景思曰：「善！」乃丐赦國昌，使討賊贖罪。有詔拜克用代州刺史、忻代兵馬留後，促本軍討賊。克用募達靼萬人，趨代州，將南道太原。節度使鄭從讜塞石嶺關，不得前，克用儳道至太原，營城下五日，邀糧貲，從讜不答，乃大略，還屯代州。

中和二年，蔚州刺史蘇祐會赫連鐸兵將攻代州，克用率騎五百先襲蔚州，下之。祐屯美女谷，鐸與幽州李可舉眾七萬攻蔚州，譙柵相屬。克用直搗營，入蔚州，燔府庫，棄而去，屯雁門。國昌自達靼率兵歸代州。擾汾、並、樓煩，不釋鎧。帝詔克用還軍朔州。

於是義武節度使王處存、河中節度使王重榮傳詔招克用同討巢。克用喜，即大閱雁門，得忻、代、蔚、朔、達靼眾三萬、騎五千而南。於是國昌守代州。鄭從讜不肯假道，克用軍傅太原而營，奉幣馬遺從讜，身從數騎呼曰：「我且西，願與公一言。」從讜升陴慰勉，歸貨幣饔餼。克用乃自陰地趨晉，會河中。帝聞，擢克用雁門節度、神策天寧軍鎮遏、忻代觀察使。明年，宰相王鐸承制，授克用東北面行營都統，河東監軍陳景思為監軍使。克用使弟克脩領彀騎五百度河，克用自夏陽濟，留薛阿檀扼津口，次同州，壁乾坑，與賊戰梁田坡，敗之。進壁渭橋，遂收京師。功第一，進同中書門下平章事、隴西郡公；國昌為代北軍節度使。未幾，以克用領河東節度。

黃巢與秦宗權合寇河南。四年，克用率河東、代北兵將自澤、潞下天井關，河陽諸葛爽堙井以拒，克用乃由河中濟，趨許州，合徐、汴兵破尚讓於太康。戰西華，又破之。賊走，河南平。追北曹州，還過汴，朱全忠邀之，克用留兵於郊，入舍上源館。夜帳飲，全忠自佐饔，進貲寶，握手諄勞。是時，全忠忌克用桀邁難制，則連車外環，陳兵道左右。克用醉。乃攻館，下拒戰，親將郭景銖滅燭扶克用，徐告之，尚被酒，乃引弓射。會煙囂四合，大震電，克用與薛志勤等間關升南譙門，縋走營。部下死者數百人，所獲賊乘輿物盡亡之。克用整眾歸太原，益訓兵，將報仇，使弟克勤以萬騎屯河中，乃請擊全忠。使者八返，內外震恐，帝使內謁慰解。尋進位檢校太傅、隴西郡王。

光啟元年，幽州李可舉、鎮州王景崇言：「易定故燕、趙境，請取分之。」於是可舉攻易州，下之；景崇攻無極。易定節度使王處存求救於克用，克用自將救無極，敗鎮人，攻馬頭，固新城。鎮兵走，處存復取易州。鳳翔李昌符、邠寧硃玫與全忠連和，觀軍容使田令孜惡克用與王重榮合，建言：「不可處近輔，請授王處存河中，而徙重榮於易定，則克用孤矣。」帝從之。重榮以告，克用怒曰：「我當從公提鼓出汜水關誅全忠，回殲穴鼠耳。」重榮計曰：「公兵朝出關，則邠、岐兵夕傅吾堞，願先治邠、岐。」克用乃表言：「玫、昌符連全忠為亂，請以兵十五萬度河梟二豎，然後平汴雪大恥，願陛下戒嚴，無為賊所搖。」帝遣使慰止，背相望也。克用不奉詔，玫亦引邠、鳳兵營沙苑。克用薄戰，玫敗，夜亡去。克用還河中，天子出趣鳳翔，道傳兵且至，即趣寶雞。克用與重榮聯章請還宮，願留兵衛京師，即還鎮。帝懼，走大散關，駐興元。克用引歸。嗣襄王煴偽詔至太原，克用燔之，執其使，間道奉表興元。始，朝廷意玫結克用迫乘輿，及表至，示群臣，因騰曉山南諸鎮，行在少安。王行瑜斬玫，克用以千騎經略京畿。三年，國昌卒。俄而昭宗即位，進克用檢校太師兼侍中。

大順初，克用自攻赫連鐸於雲州，拔東郛。幽州李匡威以兵三萬救之，殺其將安金俊，克用走。鐸與匡威共建言：「山南亂，克用實首之。今乘其敗，可伐而取也。」全忠亦請與河北三鎮共討之。宰相張浚是其計，乃下制削克用官爵、屬籍，以浚為兵馬招討、制置、宣慰使，京兆尹孫揆副之，樞密使駱全諲為行營都監，華州節度使韓建為行營馬步都虞候兼供軍糧料使，王鎔領河東東面，全忠南面，李匡威北面，並為行營招討使。鐸副匡威，先薄戰。克用追潞兵，不肯行，共殺守將李克恭，送款於汴，南首闕下。更詔揆為昭義節度使，克用將李存孝邀揆長子殺之。匡威、鐸並吐蕃、黠戛斯眾十萬攻遮虜軍，殺其將劉胡子。克用乃屯渾河川，存孝與鐸戰樂安，鐸敗走。浚入陰地關，壁汾、隰，薛鐵山、李承嗣營洪洞迎戰。存孝次趙城，韓建夜出壯士三百乘其營，存孝伏以待，建兵大奔。存孝攻絳州，未下，晉州刺史張行恭棄城走，建與浚遁還。明年，克用奉表自陳，乃復拜檢校太師、守中書令、隴西郡王。

克用悉兵攻鐸雲州，以騎將薛阿檀為前軍，設伏河上。鐸縱騎追阿檀，遇伏而奔。鐸亡入吐渾。克用取雲州，以部將石善友為刺史、大同軍防禦使。

景福初，鎮州王鎔攻堯山，克用使李嗣勛擊之，斬級三萬，克用遂拔天長，略常山，度滹沱，燔其郛。徇地至趙，取鼓、槁二城。赫連鐸眾八萬攻天成軍，克用飛檄發軍太原，匡威已壁雲州北郊，克用自神堆引軍夜入雲州，死戰，走之。乾寧元年，克用次新城，鐸膝行詣軍門降，克用鞭而縱之。進下武州，攻新州。李匡籌引步騎七萬救之，克用迎戰，斬首萬級，俘少將三百，徇城下，新州降。取媯州，匡籌棄幽州走。明年，幽州降，克用以劉仁恭為留後，乃旋。

王行瑜、韓建、李茂貞連兵南闕下，殺李溪。克用盡調北部兵度河，拔絳州，斬刺史王瑤。次河中，王珂謁於道。同州王行約奔京師。圍韓建於華州，京師震動，帝為幸石門、莎城，遣內謁郗廷昱慰勞，且言茂貞屯盩厔，行瑜屯興平，克用乃進營渭橋。帝以嗣延王戒丕、嗣丹王允詔克用擊邠、鳳。克用奉詔，屯渭北，遣史儼以票騎三千護石門，且令王珂輸河中粟備行在。帝以赤詔嘉答，進克用諸道兵馬都招討使，命二嗣王兄事之，令促討行瑜。克用請帝還京師，以二千騎衛乘輿。時宮室煨殘，駐尚書省，百官喪馬，克用進乘輿金具裝二駟，又上百乘給從官。進太師、兼中書令、邠寧四面行營都統。

行瑜堅壁梨園，茂貞自率師三萬逼咸陽而屯。克用請帝責茂貞罷兵，因削官爵，願與河中共討之。帝詔弟事行瑜，貸茂貞，俾結好。硃詔賜魏國夫人陳氏。陳，襄陽人也，善書，帝所愛，欲急平賊，故予之。茂貞以兵援龍泉，克用使李罕之、李存審夜引兵劫其餉，援兵亡，行瑜潰而走，追殺萬計。行瑜入邠州，丐歸款，克用使史儼入其城。行瑜死慶州，傳自京師。帝悉論幕府官屬及諸子功，封爵之，克用賜號「忠貞平難功臣」，進封晉王。

克用屯雲陽，遣李習吉入朝，且請與王珂悉力討茂貞，帝不許。克用私於使者曰：「叛根不除，憂未艾也。」天子發度支錢三十萬緡勞其軍。時鄆州硃宣兄弟為全忠所困，使來告，克用請道於魏救之。兵解復鬥，克用自將而往，使李存信率兵三萬與史儼等次於莘，為魏兵所破。克用怒，大略相、魏去。

始，茂貞畏克用見討，修貢獻如籓臣。及克用還，絕貢獻，與韓建謀以兵入朝。帝懼，詔克用進衛京師。帝謀度河幸太原，遣延王入克用軍促迎天子。既次渭北，建固請幸華州。克用謂王曰：「患本於不斷，顧上自為之。」李存信攻魏，葛從周引眾三萬來援，戰洹水上，汴人夜坎諸野，哄合，克用子落落馬陷而顛，克用救之，亦顛；追兵迫，射之乃免。存信已傅魏城，克用並力，羅弘信以捉生逆戰，為克用所敗，追及郛，叩闔而還。於是陜州王珙攻河中，李嗣昭援珂，再戰再勝，珙圍解。

帝使延王持節至太原，謂克用曰：「不用卿計，故逮此，無可言者。今我寄於華，百司群官無所托，非卿尚誰與憂？不則不復見宗廟矣！」王至太原，克用留累月，每大張飲，王必以舞屬克用，因陳國事，涕數行下，冀感動之。時劉仁恭據幽州，貳於克用，數召兵不應，克用以書讓之，仁恭得書，抵於地，遂顯絕。故克用內憂幽州，以好辭謝王，不復有西意。俄自將屯蔚州，會晨大雺冥，仁恭來薄戰，克用大敗，走太原，大將多死。

全忠奪邢、磁、洺三州，茂貞度克用沮橈，無能出師，乃與韓建謾好，致書言帝暴露累年，請共治宮室迎天子。初，長安自石門之奔，宮殿焚圮，及岐人再逆，火閭里皆盡，宮城昏夜狐貍鳴啼，無人跡。帝幸華西溪，望舊京必泫然流涕，左右淒塞不得語。王建方盜兩川，茂貞欲披其鄙私之，數南師，不暇東，而全忠繕治洛陽，茂貞因約克用共其勞，克用辭窮，乃出貲為助。

光化初，帝還京師，詔克用與全忠解仇，宰相徐彥若、崔胤皆勸之。克用勢已折，然尚以功高位全忠上，恥先下之，時王鎔方睦於汴，乃遺書鎔，使為己倡。全忠即遣使奉書幣恭甚，克用亦報之。然汴日益張，窮鬥不置。王珙請汴兵攻河中，克用使李嗣昭、張漢瑜援之，汴兵走。葛從周取承天軍，氏叔琮取遼州、樂平，進壁榆次，克用使周德威逐出之。李嗣昭以步騎三萬下太行，略河內，拔懷州，進攻河陽，汴人閻寶救之，嗣昭退保懷。天復元年，全忠取晉、絳，逼河中，王珂告急，使相望，汴人扼空道，晉兵不得前，遂虜珂。珂妻，克用女，不能救，全忠遂有河中，克用朝貢道亦梗。

全忠知克用迮不振，乃大舉攻太原，分遣銳將氏叔琮等率魏博、兗鄆、邢洺、義武、晉絳兵環入之，晉城邑多下。會大雨，汴兵糧乏，士瘧癘，遂解。克用雖內憤悒，憚全忠強難與爭，乃厚致幣馬謝，復請修好。全忠遂取同、華，屯渭上。帝如鳳翔，李茂貞、韓全誨請召克用入衛。克用間道遣使者奔問，並詒書全忠勸還汴，全忠不答。

克用率兵趨平陽，攻吉上堡，破汴軍於晉州。李嗣昭、周德威下慈、隰，進屯河中。汴將硃友寧以兵十萬壁其南，全忠自屯晉州。晉人聞全忠至，皆失色。時有虹貫德威營，氏叔琮薄壘疾鬥，晉兵大敗，仗械輜儲皆盡。友寧長驅略汾、慈、隰州，皆下，遂圍太原，攻西門。德威、嗣昭循山挈餘眾得歸，克用大恐，身荷版築，率士拒守，陰於嗣昭、德威謀奔雲州。李存信曰：「不如依北蕃。」國昌妻劉語克用曰：「聞王欲委城入蕃，審乎？計誰出？」曰：「存信等為此。」劉曰：「彼牧羊奴，安辦遠計。王常笑王行瑜失城走而死，若何效之？且王頃居達靼，危不免。必一朝去此，禍不旋跬，渠能及北虜哉？」克用悟，乃止。居數日，散士復集。嗣昭夜擾友寧營，汴人驚，引去。德威追之，抵白壁關，復收慈、隰、汾三州。三年，克用攻晉州，聞帝自鳳翔還京師，乃去。雲州都將王敬暉殺刺史劉再立，以地予劉仁恭；李嗣昭討之。仁恭援敬暉，嗣昭壁樂安，欲戰，仁恭取敬暉，棄城去。

帝東遷，詔至太原，克用泣謂其下曰：「乘輿不復西矣。」遣使者奔問行在，俄加號「協盟同力功臣。」李茂貞、王建與邠州楊崇本遣使者來約義舉，克用顧籓鎮皆附汴，不可與共功，惟契丹阿保機尚可用，乃卑辭召之。保機身到雲中，與克用會，約為兄弟，留十日去，遺馬千匹、牛羊萬計，期冬大舉度河，會昭宗弒而止。四年，王建、李茂貞約克用大舉。建將康晏步騎二萬與克用監軍張承業會鳳翔，是時汴將王重師守長安，劉知俊守同州，與戰長安西，建兵敗，遂不振。

唐亡，建與淮南楊渥請克用自王一方，須賊平訪唐宗室立之。建請悉蜀工制乘輿御物。克用答曰：「自王，非吾志也。」建又勸茂貞王岐，茂貞孱褊，亦不敢當，但侈府第、僭宮禁而已。建、渥乃自王。是歲，克用有疾，城門自壞，明年卒。

贊曰：沙陀始歸命天子，仰哺於邊，世喋血助征討，常為邊兵雄。至克用逢王室亂，遂有太原。虜性惇固，少它腸，自負材果，欲經營天下而不克也。兵雖勝，然數敗；地雖得，輒復失，故熟視帝劫遷，縮頸羞汗，偷景待殭，不亦鄙乎！賴其子慓銳，抑而復振。是時，提兵托勤王者五族，然卒亡硃氏為唐滌恥者，沙陀也。使克用稍知古今，能如齊桓、晉文，唐遽亡乎哉？
