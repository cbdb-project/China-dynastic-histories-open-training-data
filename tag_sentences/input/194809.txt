李懷光，渤海靺鞨人，本姓茹。父常，徙幽州，為朔方部將，以戰多賜姓，更名嘉慶。

懷光在軍，積勞至開府儀同三司，為都虞候。勇鷙敢誅殺，雖親屬犯法，無所回貸。節度使郭子儀仁厚，不親事，以紀綱委懷光，軍中畏之。會母喪，起兼邠、寧、慶都將。德宗罷子儀副元帥，以所部兵分諸將，故懷光檢校刑部尚書，為寧、慶、晉、絳、慈、隰等州節度使。引眾城長武，據原首，臨涇水，以扼吐蕃空道，自是不敢南侵。建中初，楊炎欲城原州，使懷光兼帥涇原，遂其功。原州宿將史抗、溫儒雅等，故子儀麾下，嘗在懷光右，及處其下，意鬱鬱，懷光因罪誅之，由是涇軍迎畏。劉文喜者，因眾懼，遂叛。詔與硃泚討平之，加檢校太子少師。明年，徙朔方節度使，實封戶四百，仍領邠寧。

時馬燧、李抱真討田悅，未克，詔懷光以朔方兵萬五千並力。懷光至魏，未及營，與硃滔等戰連篋山，為賊所敗，悅因決水灌軍，燧等退屯魏縣。尋進同中書門下平章事，益戶二百。與滔等相持，久不戰。

帝狩奉天，懷光率所部奔命。方雨淖，奮厲軍士倍道進，自蒲津絕河，敗泚軍於醴泉。將抵奉天，前遣裨將張韶以蠟韜表，隨賊攻城，叩壘呼曰：「我朔方使也！」縋而上，比登，身被數十矢。時帝被圍急，聞之喜，即持韶大號城上，人心乃安。又敗賊於魯店，泚解圍去。進加副元帥、中書令。

懷光為人疏而愎，誦言：「宰相謀議乖剌，度支賦斂重，京兆尹刻薄軍食，天下之亂皆由此。吾見上，且請誅之。」或以告王翃，翃等計：「懷光有大功，上且訪以得失，使其言入，豈不殆哉！」遂告盧杞，杞即說帝曰：「懷光兵威已振，逆賊破膽，若席勝，可一舉滅賊。今入朝，則必宴勞留連，賊得從容完備，卒難圖也！」帝不得其情，因然之。乃敕懷光屯便橋，督諸將進討。懷光自以徑千里赴難，為奸臣拫隔不得朝，頗恚悵，去屯咸陽。明日，李晟會陳濤斜，壁壘未具，賊大至。晟說懷光曰：「賊保宮苑，攻之良難。今敢離窟穴，與公薄戰，此天以賊賜公也。」懷光曰：「吾馬未秣，士未飯，可遽戰哉？姑養吾勇以待之。」晟不得已，閉壁不出。懷光數暴杞等罪，帝為貶杞與趙贊、白志貞，又劾奏中人翟文秀，亦殺之以尉懷光。然益自疑，堅壁八旬不出戰，屢詔使進軍，以伺釁為解，陰連硃泚。

初，崔漢衡使吐蕃求助兵，尚結贊曰：「吾法，進軍以本兵大臣為信。今制書不署懷光，未敢前。」帝乃命翰林學士陸贄詣懷光議事，懷光陳三不可，且言：「吐蕃舍人馬重英陷長安，贊普責其不焚爇，今其來，必肆宿志，一不可。彼雲引兵五萬，既用其人，則同漢士，儻邀我厚賞，何以致之？二不可。虜人雖來，義不先用，勒兵自固，以觀成敗，王師勝則分功，敗則圖變，狡詐多端，不可信，三不可。」卒不肯署。又謾罵贄曰：「爾何能？」

興元元年，詔加太尉，賜鐵券。懷光赫然怒曰：「凡疑人臣反，則賜券。今授懷光，是使反也！」抵於地。時部將韓游瑰將兵衛奉天，懷光約令為變，游瑰以聞。數日，又密書趣之，門者捕送。又遣將趙升鸞諜於奉天，升鸞告渾瑊曰：「懷光遣達奚承俊火乾陵，使我為內應，以脅乘輿。」瑊白發其奸，請帝決幸梁州。帝令瑊戒嚴，未畢，帝自西門出，詔戴休顏守奉天。懷光遣將孟廷寶、惠靜壽、孫福率輕騎趨南山，糧料使張增遇之。三人計曰：「吾屬以叛聞，不如緩軍，彼怒，不過不吾將耳。」使增紿眾曰：「由此東，吾有見糧可食也。」廷寶等引而東，縱卒大掠，而百官遂入駱谷。追帝不及。還白懷光，懷光怒，悉罷其兵。懷光乃奪李建徽、陽惠元等軍，屯好畤，然其下稍稍攜貳。泚始憚之，至是欲遂臣懷光。懷光怒，告絕，益不安，乃引兵掠涇陽、三原、富平，遂如河中，留張昕守咸陽。而孟涉、段威勇擁兵降李晟，韓游瑰殺昕，以邠州歸。戴休顏自奉天令於軍曰：「懷光反。」乃城守。

有詔以懷光為太子太保，許其麾下擇功高者一人統其兵。不奉詔。懷光至河中，取同、絳二州，按兵觀望。京師平，命給事中孔巢父、中人啖守盈召之，皆為懷光帳下所害，於是繕兵嚴守。帝乃遣渾瑊討之。度支欲罷其軍歲中稟賜，帝曰：「朔方軍累有功，豈以懷光拒命而眾不被恩邪？」詔所司別貯縑錢，須事定乃給。瑊破同州，屯軍不得進，數為懷光所衄。帝以河東節度使馬燧威名白著，乃拜副元帥，與瑊及鎮國駱元光、邠寧韓游瑰、鄜坊唐朝臣會兵進討。燧拔絳州，諸軍遂圍河中。

貞元元年八月，朔方部將牛名俊斬懷光，傳首以獻，年五十七。帝念其功，詔許一子嗣，賜莊、第各一區，聽以禮葬，妻王徙澧州。初，懷光死，其子琟盡殺其弟乃死，故懷光無後。五年，詔曰：「懷舊念功，仁之大也；興滅繼絕，義之至也。昔蔡叔圯族，周封其子；韓信乾紀，漢爵其孥；侯君集不率，太宗存其祀。考先王之道，烈祖之訓，皆以刑佐德，俾人向方。曩者盜臣竊發，朕狩近郊，懷光夙駕千里，奔命行在，假雷霆之威，破虎狼之眾。守節靡終，潛構禍胎，大戮所加，自貽伊戚，孤魂無歸，懷之恍然。宜以外孫燕賜姓李，名曰承緒，以左衛率府胄曹參軍繼懷光後。」乃賜錢百萬，置田墓側，以備祭享；還妻王，使就養雲。
